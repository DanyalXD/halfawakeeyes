<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Half Awake Eyes | EPK</title>
    <link rel="icon" type="image/x-icon" href="assets/images/favicon.ico">
    <link
        href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;600&family=Source+Sans+Pro:wght@400;600&display=swap"
        rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <style>
        @font-face {
            font-family: 'Roabla';
            src: url('assets/fonts/Roabla-DemoVersion-Regular.woff2') format('woff2'),
                url('assets/fonts/Roabla-DemoVersion-Regular.ttf') format('truetype'),
                url('assets/fonts/Roabla-DemoVersion-Regular.otf') format('opentype');
            font-weight: normal;
            font-style: normal;
        }

        h1,
        h2,
        h3 {
            font-family: 'Roabla', 'Oswald', sans-serif;
            letter-spacing: 0.5px;
            text-transform: uppercase;
        }

        body {
            font-family: 'Source Sans Pro', sans-serif;
            margin: 0;
            background: #0d0d0d;
            color: #e0e0e0;
            line-height: 1.6;
        }

        header {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 4rem 1rem 3rem;
            background: #111;
            border-bottom: 1px solid #222;
        }

        header img {
            width: 160px;
            border-radius: 12px;
            margin-bottom: 1rem;
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 0.3rem;
            color: #C1954F;
        }

        p.subtitle {
            font-size: 1.1rem;
            margin: 0;
            color: #aaa;
        }

        h2 {
            font-size: 1.6rem;
            margin-bottom: 1rem;
            color: #C1954F;
            border-left: 4px solid #C1954F;
            padding-left: 1rem;
        }

        section {
            padding: 3rem 1rem;
            max-width: 960px;
            margin: auto;
        }

        a {
            color: #C1954F;
            text-decoration: none;
            transition: color 0.2s ease;
        }

        a:hover {
            color: #C1954F;
            text-decoration: underline;
        }

        a.download-link {
            display: inline-block;
            margin-top: 1rem;
            font-weight: 600;
        }

        .stats {
            display: grid;
            gap: 1.5rem;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            margin-top: 1.5rem;
        }

        .stat-box {
            background: #1a1a1a;
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #2a2a2a;
        }

        .media-grid {
            display: grid;
            gap: 1.5rem;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        }

        .media-grid img {
            width: 100%;
            aspect-ratio: 4 / 3;
            object-fit: cover;
            border-radius: 8px;
            border: 1px solid #333;
            background-color: #000;
        }

        /* General image fallback */
        img {
            max-width: 100%;
            height: auto;
            display: block;
            border-radius: 8px;
        }

        /* Track section */
        .track-grid {
            display: grid;
            gap: 2rem;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            margin-top: 1.5rem;
        }

        .track-card {
            background: #1a1a1a;
            border: 1px solid #333;
            border-radius: 8px;
            padding: 1rem;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .track-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .track-title {
            margin-bottom: 0.5rem;
            font-size: 1rem;
            font-weight: 600;
            color: #e0e0e0;
        }

        /* Global video style (no fixed height) */
        video {
        width: 100%;
        border-radius: 8px;
        border: 1px solid #333;
        background-color: #000;
        display: block;
        /* object-fit: cover;  // keep if you want to crop, use 'contain' for letterbox */
        }

    /* Force Bootstrap ratio children to actually fill the box */
    .ratio > video {
        width: 100%;
        height: 100% !important;  /* force it to match the 16:9 container */
        max-height: none !important;
        object-fit: contain;  /* use 'contain' for black bars, or 'cover' to crop */
        border-radius: 8px;
        display: block;
    }


        /* Nice rounded container without overflow artifacts */
        #videoCarousel .ratio {
        border-radius: 8px;
        overflow: hidden;
        }

        /* Carousel controls */
        .carousel-control-prev,
        .carousel-control-next {
            top: 50%;
            transform: translateY(-50%);
            width: auto;
            padding: 1rem;
            z-index: 2;
        }

        .carousel-control-prev-icon,
        .carousel-control-next-icon {
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 50%;
            width: 3rem;
            height: 3rem;
            background-size: 1.5rem 1.5rem;
        }

        .carousel-control-prev-icon:hover,
        .carousel-control-next-icon:hover {
            background-color: rgba(255, 255, 255, 0.2);
        }

        .carousel-indicators {
            bottom: -40px;
        }

        .text-gig-label {
            color: #C1954F;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 2rem 1rem;
            font-size: 0.9rem;
            background: #111;
            border-top: 1px solid #222;
            color: #777;
        }

        /* Center the Spotify embed and limit its width */
        .track-card-spotify {
            max-width: 380px; /* nice medium width for the player */
        }

        .spotify-wrapper {
            max-width: 100%;
        }

        header img {
            clip-path: circle();
        }



        /* Responsive tweaks */
        @media (max-width: 576px) {
            h1 {
                font-size: 2rem;
            }

            h2 {
                font-size: 1.2rem;
                padding-left: 0.8rem;
            }

            p.subtitle {
                font-size: 0.9rem;
            }

            .track-title {
                font-size: 0.9rem;
            }

            section {
                padding: 2rem 1rem;
            }

            .carousel-control-prev-icon,
            .carousel-control-next-icon {
                width: 2.5rem;
                height: 2.5rem;
                background-size: 1.2rem 1.2rem;
            }

            .carousel-indicators {
                bottom: -50px;
            }
        }
    </style>
</head>

<body>
    <header>
        <img src="assets/images/logo.jpg" alt="Half Awake Eyes">
        <h1>Half Awake Eyes</h1>
        <p class="subtitle">Alternative Metal | Glasgow, Scotland</p>
    </header>


    <section>
        <h2>About the Band</h2>
        <p>Half Awake Eyes are a four-piece alternative metal band from Glasgow, formed in late 2024. 
           Known for their blend of crushing riffs, intricate rhythm work, and dynamic vocals, they create music that balances atmosphere and intensity. 
           Influenced by modern progressive and post-metal, the band focus on feel, space, and storytelling over constant heaviness. 
           Built on a collaborative foundation and a DIY mindset, Half Awake Eyes will release their debut single Malice on 3rd October 2025, followed by their full debut EP on 31st October 2025.</p>
    </section>

    <section>
    <h2>Music</h2>
    <div class="track-grid">
        <div class="track-card track-card-spotify">
        <p class="track-title">Malice</p>
        <div class="spotify-wrapper">
            <iframe
                style="border-radius:12px"
                src="https://open.spotify.com/embed/track/3FFdAKH3pxBVtNETyHqxHu?utm_source=generator"
                width="100%"
                height="152"
                frameborder="0"
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                loading="lazy">
            </iframe>
        </div>
        </div>
    </div>
    </section>


    <section>
        <h2>Band Photos</h2>
        <div class="media-grid">
            <div class="card bg-dark border-secondary">
                <img src="assets/images/IMG_3313.JPG" class="card-img-top" alt="Band Promo 1">
            </div>
            <div class="card bg-dark border-secondary">
                <img src="assets/images/iage.jpg" class="card-img-top" alt="Live Show">
            </div>
        </div>
    </section>

    <section>
        <h2>Live Videos</h2>
        <div id="videoCarousel" class="carousel slide" data-bs-ride="false">

            <div class="carousel-indicators">
                <button type="button" data-bs-target="#videoCarousel" data-bs-slide-to="0" class="active"
                    aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#videoCarousel" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#videoCarousel" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
                <button type="button" data-bs-target="#videoCarousel" data-bs-slide-to="3"
                    aria-label="Slide 4"></button>
            </div>

            <div class="carousel-inner">
                <div class="carousel-item active">
                    <div class="ratio ratio-16x9">
                        <video controls poster="thumbnails/video1.jpg">
                            <source src="https://halfawakeeyes.s3.eu-west-2.amazonaws.com/Classic%20Grand%20-%20Machine.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>

                <div class="carousel-item">
                    <div class="ratio ratio-16x9 video-16x9">
                        <video controls poster="thumbnails/video2.jpg">
                            <source src="https://halfawakeeyes.s3.eu-west-2.amazonaws.com/Classic%20Grand%20-%20Malice.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>


                <div class="carousel-item">
                    <div class="ratio ratio-16x9">
                        <video controls poster="thumbnails/video2.jpg">
                            <source src="https://halfawakeeyes.s3.eu-west-2.amazonaws.com/Classic%20Grand%20-%20The%20Taste%20of%20Death.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>


                <div class="carousel-item">
                    <div class="ratio ratio-16x9 video-16x9">
                        <video controls poster="thumbnails/video2.jpg">
                            <source src="https://halfawakeeyes.s3.eu-west-2.amazonaws.com/Classic%20Grand%20-%20Atrophy.mp4" type="video/mp4">
                        </video>
                    </div>
                </div>
            </div>

            <button class="carousel-control-prev" type="button" data-bs-target="#videoCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon"></span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#videoCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon"></span>
            </button>

        </div>
    </section>

    <section>
        <h2>Gig History</h2>
        <div class="row g-4">
            <div class="col-md-6">
            <div class="card bg-dark text-light border-secondary h-100">
                <div class="card-header text-uppercase text-gig-label fw-bold">Past</div>
                <ul id="past-gigs" class="list-group list-group-flush"></ul>
            </div>
            </div>
            <div class="col-md-6">
            <div class="card bg-dark text-light border-secondary h-100">
                <div class="card-header text-uppercase text-gig-label fw-bold">Upcoming</div>
                <ul id="upcoming-gigs" class="list-group list-group-flush"></ul>
            </div>
            </div>
        </div>
    </section>

    <section>
        <h2>Press Kit</h2>
        <p>Download high-resolution promotional photos suitable for press use, posters, and show announcements.</p>
        <a class="download-link"
            href="https://drive.google.com/drive/folders/1dFLq35JkF_NyhJypMFzKlsc7iXehKnWJ?usp=sharing" target="_blank">
            View & Download Photos
        </a>
    </section>

    <section>
        <h2>Technical Requirements</h2>
        <p>For promoters and venues, please refer to our stage plot and input list.</p>
        <a class="download-link"
            href="https://drive.google.com/file/d/1S4HP1FfKu0ul9h3p4obzZRDtj2I5AgcO/view?usp=drive_link"
            download>Download Tech Requirements</a>
    </section>

    <section>
        <h2>Contact & Social</h2>
        <p>Booking & Inquiries: <a href="mailto:halfawakeeyes@gmail.com">halfawakeeyes@gmail.com</a></p>
        <p>Instagram: <a href="https://instagram.com/halfawakeeyes" target="_blank">@halfawakeeyes</a></p>
        <p>Facebook: <a href="https://www.facebook.com/halfawakeeyes"
                target="_blank">facebook.com/halfawakeeyes</a></p>
    </section>

    <footer>
        &copy; 2025 Half Awake Eyes. All rights reserved.
    </footer>

    <script>
        const videos = document.querySelectorAll('video');
        const carousel = document.getElementById('videoCarousel');

        carousel.addEventListener('slid.bs.carousel', () => {
            videos.forEach(video => {
                video.pause();
                video.currentTime = 0;
            });
        });
    </script>

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { getFirestore, doc, setDoc, getDocs, collection, query, orderBy } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAv7G28uXxlQNG_HMLbBkuz4xseXzOzm4Y",
        authDomain: "half-awake-eyes.firebaseapp.com",
        projectId: "half-awake-eyes"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    const params = new URLSearchParams(window.location.search);
    const userId = params.get("id") || "unknown";

    const logEvent = async (action, target = "") => {
      try {
        const docId = `${userId}-${Date.now()}-${action}`;
        await setDoc(doc(db, "site-actions", docId), {
          userId,
          action,
          target,
          page: window.location.pathname,
          timestamp: new Date()
        });
      } catch (e) {
        console.error("Logging error:", e);
      }
    };

    if (!window.location.pathname.includes("analytics.html")) {
      logEvent("page_view");

      document.addEventListener("click", (e) => {
        const el = e.target.closest("a, button");
        if (el) {
          let label = "";
          if (el.tagName === "A") {
            const text = el.innerText.trim() || "link";
            const href = el.href || "#";
            label = `${text} → ${href}`;
          } else if (el.tagName === "BUTTON") {
            label = `button → ${el.innerText.trim() || "Unnamed button"}`;
          }
          logEvent("click", label);
        }
      });

      document.querySelectorAll("video").forEach(video => {
        video.addEventListener("play", () => {
          const title = video.getAttribute("data-title") || video.querySelector("source")?.src?.split("/").pop() || "Unnamed video";
          logEvent("video_play", title);
        });
      });
    }

    // Get today's date with no time for clean comparison
    const today = new Date();
    today.setHours(0, 0, 0, 0);

    // Query the gigs collection
    const gigsRef = collection(db, "gigs");
    const q = query(gigsRef, orderBy("date", "asc"));

    try {
    const snapshot = await getDocs(q);
    const pastEl = document.getElementById("past-gigs");
    const upcomingEl = document.getElementById("upcoming-gigs");

    if (snapshot.empty) {
        pastEl.innerHTML = `<li class="list-group-item bg-dark text-light border-secondary">No past gigs.</li>`;
        upcomingEl.innerHTML = `<li class="list-group-item bg-dark text-light border-secondary">No upcoming gigs.</li>`;
    }

    snapshot.forEach(doc => {
        const gig = doc.data();

        // Convert to Date object
        const gigDate = new Date(gig.date);
        gigDate.setHours(0, 0, 0, 0);

        // Format as "April 30, 2025"
        const formattedDate = gigDate.toLocaleDateString("en-US", {
            year: "numeric",
            month: "long",
            day: "numeric"
        });

        const eventStr = gig.event ? ` – ${gig.event}` : "";
        const locationStr = `${gig.venue}${gig.city ? ", " + gig.city : ""}`;

        const li = document.createElement("li");
        li.className = "list-group-item bg-dark text-light border-secondary";
        li.innerHTML = `<strong>${formattedDate}</strong>${eventStr} – ${locationStr}`;

        if (gigDate < today) {
            pastEl.appendChild(li);
        } else {
            upcomingEl.appendChild(li);
        }
    });
    } catch (e) {
        console.error("Error fetching gig history:", e);
    }

  </script>
</body>

</html>
